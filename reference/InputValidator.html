<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Shiny validation object — InputValidator • shinyvalidate</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Shiny validation object — InputValidator"><meta property="og:description" content="An R6 class for adding realtime input validation to Shiny apps.
InputValidator objects are designed to be created as local variables in
Shiny server functions and Shiny module server functions. The Shiny app
author can register zero, one, or multiple validation rules for each input
field in their UI, using the InputValidator$add_rule() method.
Once an InputValidator object is created and populated with rules, it can
be used in a few ways:
The InputValidator$enable() method can be called to display real-time
feedback to users about what inputs are failing validation, and why.
The InputValidator$is_valid() method returns TRUE if and only if all
of the validation rules are passing; this can be checked before
executing actions that depend on the inputs being valid.
The InputValidator$validate() method is a lower-level feature that
directly returns information about what fields failed validation, and
why.


It's possible to have multiple InputValidator objects for each Shiny app.
One scenario where this makes sense is if an app contains multiple forms
that are completely unrelated to each other; each form would have its own
InputValidator instance with a distinct set of rules."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyvalidate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/shinyvalidate.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/displaying.html">Displaying Validation Errors</a>
    </li>
    <li>
      <a href="../articles/advanced.html">Advanced Validation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rstudio/shinyvalidate/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Shiny validation object</h1>
    <small class="dont-index">Source: <a href="https://github.com/rstudio/shinyvalidate/blob/HEAD/R/validator.R" class="external-link"><code>R/validator.R</code></a></small>
    <div class="hidden name"><code>InputValidator.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An R6 class for adding realtime input validation to Shiny apps.</p>
<p><code>InputValidator</code> objects are designed to be created as local variables in
Shiny server functions and Shiny module server functions. The Shiny app
author can register zero, one, or multiple validation rules for each input
field in their UI, using the <code>InputValidator$add_rule()</code> method.</p>
<p>Once an <code>InputValidator</code> object is created and populated with rules, it can
be used in a few ways:</p><ol><li><p>The <code>InputValidator$enable()</code> method can be called to display real-time
feedback to users about what inputs are failing validation, and why.</p></li>
<li><p>The <code>InputValidator$is_valid()</code> method returns <code>TRUE</code> if and only if all
of the validation rules are passing; this can be checked before
executing actions that depend on the inputs being valid.</p></li>
<li><p>The <code>InputValidator$validate()</code> method is a lower-level feature that
directly returns information about what fields failed validation, and
why.</p></li>
</ol><p>It's possible to have multiple <code>InputValidator</code> objects for each Shiny app.
One scenario where this makes sense is if an app contains multiple forms
that are completely unrelated to each other; each form would have its own
<code>InputValidator</code> instance with a distinct set of rules.</p>
    </div>


    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-InputValidator-new"><code>InputValidator$new()</code></a></p></li>
<li><p><a href="#method-InputValidator-parent"><code>InputValidator$parent()</code></a></p></li>
<li><p><a href="#method-InputValidator-condition"><code>InputValidator$condition()</code></a></p></li>
<li><p><a href="#method-InputValidator-add_validator"><code>InputValidator$add_validator()</code></a></p></li>
<li><p><a href="#method-InputValidator-add_rule"><code>InputValidator$add_rule()</code></a></p></li>
<li><p><a href="#method-InputValidator-enable"><code>InputValidator$enable()</code></a></p></li>
<li><p><a href="#method-InputValidator-disable"><code>InputValidator$disable()</code></a></p></li>
<li><p><a href="#method-InputValidator-fields"><code>InputValidator$fields()</code></a></p></li>
<li><p><a href="#method-InputValidator-is_valid"><code>InputValidator$is_valid()</code></a></p></li>
<li><p><a href="#method-InputValidator-validate"><code>InputValidator$validate()</code></a></p></li>
<li><p><a href="#method-InputValidator-_validate_impl"><code>InputValidator$_validate_impl()</code></a></p></li>
</ul></div><p></p><hr><a id="method-InputValidator-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new validator object.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/InputValidator.html">InputValidator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  priority <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>priority</code></dt>
<dd><p>When a validator object is enabled, it creates an
internal <code><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">shiny::observe()</a></code> to keep validation feedback in the UI
up-to-date. This parameter controls the priority of that observer. It's
highly recommended to keep this value higher than the priorities of any
observers that do actual work, so users see validation updates quickly.</p></dd>


<dt><code>session</code></dt>
<dd><p>The Shiny <code>session</code> object. (You should probably just use
the default.)</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-InputValidator-parent"></a><div class="section">
<h3 id="method-parent-">Method <code>parent()</code><a class="anchor" aria-label="anchor" href="#method-parent-"></a></h3>
<p>For internal use only.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">parent</span><span class="op">(</span><span class="va">validator</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>validator</code></dt>
<dd><p>An <code>InputValidator</code> object.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-InputValidator-condition"></a><div class="section">
<h3 id="method-condition-">Method <code>condition()</code><a class="anchor" aria-label="anchor" href="#method-condition-"></a></h3>
<p>Gets or sets a condition that overrides all of the rules in
this validator. Before performing validation, this validator will
execute the <code>cond</code> function. If <code>cond</code> returns <code>TRUE</code>, then
validation continues as normal; if <code>FALSE</code>, then the validation rules
will be skipped and treated as if they are all passing.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">condition</span><span class="op">(</span><span class="va">cond</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cond</code></dt>
<dd><p>If this argument is missing, then the method returns the
currently set condition function. If not missing, then <code>cond</code> must
be either a zero-argument function that returns <code>TRUE</code> or <code>FALSE</code>; a
single-sided formula that results in <code>TRUE</code> or <code>FALSE</code>; or <code>NULL</code>
(which is equivalent to <code>~ TRUE</code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>If <code>cond</code> is missing, then either <code>NULL</code> or a zero-argument
function; if <code>cond</code> is provided, then nothing of consequence is
returned.</p>
</div>

</div><p></p><hr><a id="method-InputValidator-add_validator"></a><div class="section">
<h3 id="method-add-validator-">Method <code>add_validator()</code><a class="anchor" aria-label="anchor" href="#method-add-validator-"></a></h3>
<p>Add another <code>InputValidator</code> object to this one, as a
"child". Any time this validator object is asked for its validity, it
will only return <code>TRUE</code> if all of its child validators are also valid;
and when this validator object is enabled (or disabled), then all of
its child validators are enabled (or disabled) as well.</p>
<p>This is intended to help with validating Shiny modules. Each module can
create its own <code>InputValidator</code> object and populate it with rules, then
return that object to the caller.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">add_validator</span><span class="op">(</span><span class="va">validator</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">validator</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>validator</code></dt>
<dd><p>An <code>InputValidator</code> object.</p></dd>


<dt><code>label</code></dt>
<dd><p>An optional label for the <code>InputValidator</code> object. By
default, a label will be automatically generated.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-InputValidator-add_rule"></a><div class="section">
<h3 id="method-add-rule-">Method <code>add_rule()</code><a class="anchor" aria-label="anchor" href="#method-add-rule-"></a></h3>
<p>Add an input validation rule. Each input validation rule
applies to a single input. You can add multiple validation rules for a
single input by calling <code>add_rule()</code> multiple times; the first
validation rule for an input that fails will be used, and will prevent
subsequent rules for that input from executing.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">add_rule</span><span class="op">(</span></span>
<span>  <span class="va">inputId</span>,</span>
<span>  <span class="va">rule</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  session. <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>inputId</code></dt>
<dd><p>A single-element character vector indicating the ID of the
input that this rule applies to. (Note that this name should <em>not</em> be
qualified by a module namespace; e.g. pass <code>"x"</code> and not
<code>session$ns("x")</code>.)</p></dd>


<dt><code>rule</code></dt>
<dd><p>A function that takes (at least) one argument: the input's
value. The function should return <code>NULL</code> if it passes validation, and
if not, a single-element character vector or HTML tag containing an
error message to display to the user near the input. You can
alternatively provide a single-sided formula instead of a function,
using <code>.</code> as the variable name for the input value being validated.</p></dd>


<dt><code>...</code></dt>
<dd><p>Optional: Additional arguments to pass to the <code>rule</code> function
whenever it is invoked.</p></dd>


<dt><code>session.</code></dt>
<dd><p>The session object to which the input belongs. (There's
almost never a reason to change this from the default.)</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-InputValidator-enable"></a><div class="section">
<h3 id="method-enable-">Method <code>enable()</code><a class="anchor" aria-label="anchor" href="#method-enable-"></a></h3>
<p>Begin displaying input validation feedback in the user
interface. Once enabled, this validator object will automatically keep
the feedback up-to-date. (It's safe to call the <code>enable()</code> method
on an already-enabled validator.) If this validator object has been
added to another validator object using <code>InputValidator$add_validator</code>,
calls to <code>enable()</code> on this validator will be ignored.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">enable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-InputValidator-disable"></a><div class="section">
<h3 id="method-disable-">Method <code>disable()</code><a class="anchor" aria-label="anchor" href="#method-disable-"></a></h3>
<p>Clear existing input validation feedback in the user
interface for all inputs represented in this validator's ruleset, and
stop providing feedback going forward. Once disabled, <code>enable()</code> can be
called to resume input validation.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">disable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-InputValidator-fields"></a><div class="section">
<h3 id="method-fields-">Method <code>fields()</code><a class="anchor" aria-label="anchor" href="#method-fields-"></a></h3>
<p>Returns <code>TRUE</code> if all input validation rules currently pass,
<code>FALSE</code> if not.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">fields</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-InputValidator-is_valid"></a><div class="section">
<h3 id="method-is-valid-">Method <code>is_valid()</code><a class="anchor" aria-label="anchor" href="#method-is-valid-"></a></h3>
<p>Returns <code>TRUE</code> if all input validation rules currently pass,
<code>FALSE</code> if not.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">is_valid</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-InputValidator-validate"></a><div class="section">
<h3 id="method-validate-">Method <code><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">validate()</a></code><a class="anchor" aria-label="anchor" href="#method-validate-"></a></h3>
<p>Run validation rules and gather results. For advanced usage
only; most apps should use the <code>is_valid()</code> and <code>enable()</code> methods
instead. The return value of this method is a named list, where the
names are (fully namespace qualified) input IDs, and the values are
either <code>NULL</code> (if the input value is passing) or a single-element
character vector describing a validation problem.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">InputValidator</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-InputValidator-_validate_impl"></a><div class="section">
<h3 id="method-validate-impl-">Method <code>_validate_impl()</code><a class="anchor" aria-label="anchor" href="#method-validate-impl-"></a></h3>
<p>For internal use only.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code>InputValidator$_validate_impl(indent)</code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>indent</code></dt>
<dd><p>For internal use only.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Richard Iannone, Joe Cheng, RStudio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

